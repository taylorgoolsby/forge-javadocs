<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_241) on Thu Apr 30 23:01:16 PDT 2020 -->
<title>FMLHandshakeHandler (forge 1.15.2-31.1.63 API)</title>
<meta name="date" content="2020-04-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FMLHandshakeHandler (forge 1.15.2-31.1.63 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/minecraftforge/fml/network/ConnectionType.html" title="enum in net.minecraftforge.fml.network"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/minecraftforge/fml/network/FMLHandshakeMessages.html" title="class in net.minecraftforge.fml.network"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/minecraftforge/fml/network/FMLHandshakeHandler.html" target="_top">Frames</a></li>
<li><a href="FMLHandshakeHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.minecraftforge.fml.network</div>
<h2 title="Class FMLHandshakeHandler" class="title">Class FMLHandshakeHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.minecraftforge.fml.network.FMLHandshakeHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FMLHandshakeHandler</span>
extends java.lang.Object</pre>
<div class="block">Instance responsible for handling the overall FML network handshake.

 <p>An instance is created during <a href="../../../../net/minecraft/network/handshake/client/CHandshakePacket.html" title="class in net.minecraft.network.handshake.client"><code>CHandshakePacket</code></a> handling, and attached
 to the <a href="../../../../net/minecraft/network/NetworkManager.html#channel"><code>NetworkManager.channel</code></a> via <a href="../../../../net/minecraftforge/fml/network/FMLNetworkConstants.html#FML_HANDSHAKE_HANDLER"><code>FMLNetworkConstants.FML_HANDSHAKE_HANDLER</code></a>.

 <p>The <a href="../../../../net/minecraftforge/fml/network/FMLNetworkConstants.html#handshakeChannel"><code>FMLNetworkConstants.handshakeChannel</code></a> is a <a href="../../../../net/minecraftforge/fml/network/simple/SimpleChannel.html" title="class in net.minecraftforge.fml.network.simple"><code>SimpleChannel</code></a> with standard messages flowing in both directions.

 <p>The <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#loginWrapper"><code>loginWrapper</code></a> transforms these messages into <a href="../../../../net/minecraft/network/login/client/CCustomPayloadLoginPacket.html" title="class in net.minecraft.network.login.client"><code>CCustomPayloadLoginPacket</code></a>
 and <a href="../../../../net/minecraft/network/login/server/SCustomPayloadLoginPacket.html" title="class in net.minecraft.network.login.server"><code>SCustomPayloadLoginPacket</code></a> compatible messages, by means of wrapping.

 <p>The handshake is ticked <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#tickLogin-net.minecraft.network.NetworkManager-"><code>tickLogin(NetworkManager)</code></a> from the <code>ServerLoginNetHandler#update()</code> method,
 utilizing the <code>ServerLoginNetHandler.State#NEGOTIATING</code> state, which is otherwise unused in vanilla code.

 <p>During client to server initiation, on the <em>server</em>, the <a href="../../../../net/minecraftforge/fml/network/NetworkEvent.GatherLoginPayloadsEvent.html" title="class in net.minecraftforge.fml.network"><code>NetworkEvent.GatherLoginPayloadsEvent</code></a> is fired,
 which solicits all registered channels at the <a href="../../../../net/minecraftforge/fml/network/NetworkRegistry.html" title="class in net.minecraftforge.fml.network"><code>NetworkRegistry</code></a> for any
 <a href="../../../../net/minecraftforge/fml/network/NetworkRegistry.LoginPayload.html" title="class in net.minecraftforge.fml.network"><code>NetworkRegistry.LoginPayload</code></a> they wish to supply.

 <p>The collected <a href="../../../../net/minecraftforge/fml/network/NetworkRegistry.LoginPayload.html" title="class in net.minecraftforge.fml.network"><code>NetworkRegistry.LoginPayload</code></a> are sent, one per tick, via
 the <a href="../../../../net/minecraftforge/fml/network/FMLLoginWrapper.html#wrapPacket-net.minecraft.util.ResourceLocation-net.minecraft.network.PacketBuffer-"><code>FMLLoginWrapper.wrapPacket(ResourceLocation, PacketBuffer)</code></a> mechanism to the incoming client connection. Each
 packet is indexed via <a href="../../../../net/minecraft/network/login/client/CCustomPayloadLoginPacket.html#transaction"><code>CCustomPayloadLoginPacket.transaction</code></a>, which is
 the only mechanism available for tracking request/response pairs.

 <p>Each packet sent from the server should be replied by the client, though not necessarily in sent order. The reply
 should contain the index of the server's packet it is replying to. The <a href="../../../../net/minecraftforge/fml/network/FMLLoginWrapper.html" title="class in net.minecraftforge.fml.network"><code>FMLLoginWrapper</code></a> class handles indexing
 replies correctly automatically.

 <p>Once all packets have been dispatched, we wait for all replies to be received. Once all replies are received, the
 final login phase will commence.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;MSG extends java.util.function.IntSupplier&gt;<br>java.util.function.BiConsumer&lt;MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#biConsumerFor-net.minecraftforge.fml.util.ThreeConsumer-">biConsumerFor</a></span>(<a href="../../../../net/minecraftforge/fml/util/ThreeConsumer.html" title="interface in net.minecraftforge.fml.util">ThreeConsumer</a>&lt;<a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html" title="class in net.minecraftforge.fml.network">FMLHandshakeHandler</a>,? super MSG,? super java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;consumer)</code>
<div class="block">Transforms a two-argument instance method reference into a <code>BiConsumer</code> based on the <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#getHandshake-java.util.function.Supplier-"><code>getHandshake(Supplier)</code></a> function.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;MSG extends java.util.function.IntSupplier&gt;<br>java.util.function.BiConsumer&lt;MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#indexFirst-net.minecraftforge.fml.util.ThreeConsumer-">indexFirst</a></span>(<a href="../../../../net/minecraftforge/fml/util/ThreeConsumer.html" title="interface in net.minecraftforge.fml.util">ThreeConsumer</a>&lt;<a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html" title="class in net.minecraftforge.fml.network">FMLHandshakeHandler</a>,MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;next)</code>
<div class="block">Transforms a two-argument instance method reference into a <code>BiConsumer</code> <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#biConsumerFor-net.minecraftforge.fml.util.ThreeConsumer-"><code>biConsumerFor(ThreeConsumer)</code></a>, first calling the <code>#handleIndexedMessage(FMLHandshakeMessages.LoginIndexedMessage, Supplier)</code>
 method to handle index tracking.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#tickServer--">tickServer</a></span>()</code>
<div class="block">FML will send packets, from Server to Client, from the messages queue until the queue is drained.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="biConsumerFor-net.minecraftforge.fml.util.ThreeConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>biConsumerFor</h4>
<pre>public static&nbsp;&lt;MSG extends java.util.function.IntSupplier&gt;&nbsp;java.util.function.BiConsumer&lt;MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;biConsumerFor(<a href="../../../../net/minecraftforge/fml/util/ThreeConsumer.html" title="interface in net.minecraftforge.fml.util">ThreeConsumer</a>&lt;<a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html" title="class in net.minecraftforge.fml.network">FMLHandshakeHandler</a>,? super MSG,? super java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;consumer)</pre>
<div class="block">Transforms a two-argument instance method reference into a <code>BiConsumer</code> based on the <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#getHandshake-java.util.function.Supplier-"><code>getHandshake(Supplier)</code></a> function.

 This should only be used for login message types.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>MSG</code> - message type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - A two argument instance method reference</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>BiConsumer</code> for use in message handling</dd>
</dl>
</li>
</ul>
<a name="indexFirst-net.minecraftforge.fml.util.ThreeConsumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indexFirst</h4>
<pre>public static&nbsp;&lt;MSG extends java.util.function.IntSupplier&gt;&nbsp;java.util.function.BiConsumer&lt;MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;indexFirst(<a href="../../../../net/minecraftforge/fml/util/ThreeConsumer.html" title="interface in net.minecraftforge.fml.util">ThreeConsumer</a>&lt;<a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html" title="class in net.minecraftforge.fml.network">FMLHandshakeHandler</a>,MSG,java.util.function.Supplier&lt;<a href="../../../../net/minecraftforge/fml/network/NetworkEvent.Context.html" title="class in net.minecraftforge.fml.network">NetworkEvent.Context</a>&gt;&gt;&nbsp;next)</pre>
<div class="block">Transforms a two-argument instance method reference into a <code>BiConsumer</code> <a href="../../../../net/minecraftforge/fml/network/FMLHandshakeHandler.html#biConsumerFor-net.minecraftforge.fml.util.ThreeConsumer-"><code>biConsumerFor(ThreeConsumer)</code></a>, first calling the <code>#handleIndexedMessage(FMLHandshakeMessages.LoginIndexedMessage, Supplier)</code>
 method to handle index tracking. Used for client to server replies.

 This should only be used for login messages.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>MSG</code> - message type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>next</code> - The method reference to call after index handling</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A <code>BiConsumer</code> for use in message handling</dd>
</dl>
</li>
</ul>
<a name="tickServer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tickServer</h4>
<pre>public&nbsp;boolean&nbsp;tickServer()</pre>
<div class="block">FML will send packets, from Server to Client, from the messages queue until the queue is drained. Each message
 will be indexed, and placed into the "pending acknowledgement" queue.

 As indexed packets are received at the server, they will be removed from the "pending acknowledgement" queue.

 Once the pending queue is drained, this method returns true - indicating that login processing can proceed to
 the next step.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there is no more need to tick this login connection.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/minecraftforge/fml/network/ConnectionType.html" title="enum in net.minecraftforge.fml.network"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/minecraftforge/fml/network/FMLHandshakeMessages.html" title="class in net.minecraftforge.fml.network"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/minecraftforge/fml/network/FMLHandshakeHandler.html" target="_top">Frames</a></li>
<li><a href="FMLHandshakeHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
